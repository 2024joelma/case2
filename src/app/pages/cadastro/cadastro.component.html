<h1>{{ produtoSelecionado ? 'Editar' : 'Cadastrar' }} produto</h1>

<form [formGroup]="formProduto">
  <div>
    <mat-form-field>
      <mat-label>ID</mat-label>
      <input matInput type="number" formControlName="id" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Nome</mat-label>
      <input
        matInput
        formControlName="nome"
        maxlength="50"
        onkeydown="return /[a-zA-Z ]/i.test(event.key)"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Unidade de Medida</mat-label>
      <mat-select formControlName="unidadeMedida">
        <mat-option value="1">lt</mat-option>
        <mat-option value="2">kg</mat-option>
        <mat-option value="3">un</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Quantidade</mat-label>
      <input matInput type="number" formControlName="quantidade" step=".01" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Preço</mat-label>
      <input matInput type="number" formControlName="preco" />
    </mat-form-field>
  </div>
  <div>
    <label>Produto perecível?</label>
    <mat-radio-group
      aria-label="Produto perecível?"
      formControlName="produtoPerecivel"
    >
      <mat-radio-button value="true" name="perecivel">sim</mat-radio-button>
      <mat-radio-button value="false" name="perecivel">não</mat-radio-button>
    </mat-radio-group>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Data de Validade:</mat-label>
      <input
        matInput
        [matDatepicker]="validade"
        formControlName="dataValidade"
      />
      <mat-hint>DD/MM/AAAA</mat-hint>
      <mat-datepicker-toggle
        matIconSuffix
        [for]="validade"
      ></mat-datepicker-toggle>
      <mat-datepicker #validade></mat-datepicker>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Data da fabricação:</mat-label>
      <input
        matInput
        [matDatepicker]="fabricacao"
        formControlName="dataFabricacao"
      />
      <mat-hint>DD/MM/AAAA</mat-hint>
      <mat-datepicker-toggle
        matIconSuffix
        [for]="fabricacao"
      ></mat-datepicker-toggle>
      <mat-datepicker #fabricacao></mat-datepicker>
    </mat-form-field>
    <button
      mat-stroked-button
      (click)="produtoSelecionado ? salvarEdicao() : salvarProduto()"
    >
      Salvar
    </button>
  </div>
</form>
